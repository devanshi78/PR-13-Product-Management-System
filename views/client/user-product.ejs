<%- include('./partials/userheader.ejs') %>

<style>
.product-card {
  background: #fff;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 15px rgba(0,0,0,0.08);
  transition: all 0.3s ease;
  border: 1px solid #e8e8e8;
}
.product-card:hover {
  transform: translateY(-5px);
}
.product-card img {
  width: 100%;
  height: 180px;
  object-fit: cover;
}
.product-info {
  padding: 15px;
}
.badge-custom {
  background: #2962ff;
  padding: 4px 10px;
  font-size: 12px;
  border-radius: 6px;
  color: white;
}
</style>

<div class="page-wrapper">
  <div class="page-breadcrumb">
    <div class="row">
      <div class="col-12 d-flex align-items-center">
        <h4 class="page-title">Products</h4>
      </div>
    </div>
  </div>

  <div class="container-fluid">
    <div class="row">

      <% products.forEach(product => { %>
      <div class="col-md-4 col-lg-3 col-sm-6 mb-4">
        <div class="product-card">

          <img src="/<%= product.image %>" alt="<%= product.name %>">

          <div class="product-info">
            <h5><%= product.name %></h5>
            <p class="mb-1 text-muted">SKU: <%= product.sku %></p>

            <h6>
              â‚¹ <%= product.price %>
              <% if(product.discount){ %>
                <small class="text-success">(<%= product.discount %>% OFF)</small>
              <% } %>
            </h6>

            <span class="badge badge-custom">
              <%= product.category?.name %>
            </span>

            <p class="mt-2 mb-1 text-muted">
              Sub Category: <%= product.subCategory || 'N/A' %>
            </p>

            <p class="mb-1 text-muted">
              Brand: <%= product.brand || 'N/A' %>
            </p>

            <p class="mb-1">
              Status:
              <% if(product.isAvailable){ %>
                <span class="text-success">In Stock</span>
              <% } else { %>
                <span class="text-danger">Out of Stock</span>
              <% } %>
            </p>

          </div>
        </div>
      </div>
      <% }) %>

    </div>
  </div>
</div>

<%- include('./partials/userfooter.ejs') %>